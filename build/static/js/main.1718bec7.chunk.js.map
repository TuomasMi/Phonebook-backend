{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","className","Filter","props","value","filter","onChange","handler","PersonForm","onSubmit","newName","nameHandler","newNumber","numberHandler","type","Persons","style","listStyleType","margin","padding","personArray","map","person","name","number","onClick","remove","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","initialPersons","personsToShow","toLowerCase","includes","event","target","preventDefault","personObject","find","window","confirm","returnedPerson","setTimeout","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1718bec7.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"http://localhost:3001/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport personService from \"./services/persons\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className=\"message\">{message}</div>;\n};\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const addNumber = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (persons.find((person) => person.name === newName)) {\n      if (\n        window.confirm(\n          `${personObject.name} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const id = persons.find((person) => person.name === newName).id;\n        personService.update(id, personObject).then((returnedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== id ? person : returnedPerson\n            )\n          );\n        });\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setMessage(`Changed ${personObject.name} number`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      }\n    } else {\n      personService.create(personObject).then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setMessage(`Added ${personObject.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n      });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const personsToShow =\n    filter === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        );\n\n  const removeNumber = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService.remove(person.id).then(() => {\n        personService.getAll().then((response) => {\n          setPersons(response);\n        });\n      });\n      setMessage(`Deleted ${person.name}`);\n      setTimeout(() => {\n        setMessage(null);\n      }, 5000);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter filter={filter} handler={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm\n        onSubmit={addNumber}\n        newName={newName}\n        nameHandler={handleNameChange}\n        newNumber={newNumber}\n        numberHandler={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons personArray={personsToShow} remove={removeNumber} />\n    </div>\n  );\n};\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter shown with <input value={props.filter} onChange={props.handler} />\n    </div>\n  );\n};\n\nconst PersonForm = (props) => {\n  return (\n    <div>\n      <form onSubmit={props.onSubmit}>\n        <div>\n          name: <input value={props.newName} onChange={props.nameHandler} />\n        </div>\n        <div>\n          number:{\" \"}\n          <input value={props.newNumber} onChange={props.numberHandler} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst Persons = (props) => {\n  return (\n    <div>\n      <ul style={{ listStyleType: \"none\", margin: 0, padding: 0 }}>\n        {props.personArray.map((person) => (\n          <li key={person.name}>\n            {person.name} {person.number}{\" \"}\n            <button onClick={() => props.remove(person)}>delete </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}